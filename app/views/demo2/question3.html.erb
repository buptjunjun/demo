
<style>
    div.target {height:140px;;width:140px;padding:10px;border:1px solid #aaaaaa;}
</style>

<script>
    function allowDrop(ev) {
        ev.preventDefault();
    }

    function drag(ev) {
        ev.dataTransfer.setData("Text", ev.target.id);
    }

    function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("Text");
        var targetdata = ev.target.id;
        targetdata = targetdata +"1"

        //if (targetdata == data)
        ev.target.appendChild(document.getElementById(data));
        //else
         //   alert("wrong")
          //  return;

        ids = ""
        $orderdiv = $(".orderdiv");

        var count = 0;
        var right = true
        $orderdiv.each(

          function ()
          {

              var $img = $(this).find("img")
              if ($img != null && $img!=undefined && $img.attr("id")!=null &&  $img.attr("id")!=undefined)
              {
                  var $imgid = $img.attr("id")+"1";
                  var $divid = $(this).attr("id")

                  if ($imgid != $divid)
                       right = false;

                  count+=1;
              }
          }
        );

        if(count == $orderdiv.length && right == true)
        {
            $("#okmsg").show(500);
        }
        else  if(count == $orderdiv.length && right == false)
        {
            $("#errormsg").show(500).hide(2000);
        }



    }
</script>







<div class="col-md-10 col-md-offset-1" style="margin-top:40px;" >
  <div class="col-md-10 col-md-offset-1" style="margin-top:10px;" >
      <% images.each do |image| %>
          <div class="orderdiv target  col-md-3" id="<%= image %>" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
      <% end %>
  </div>

  <div class="col-md-10 col-md-offset-1" style="margin-top:10px;" >
      <% images.each do |image| %>
          <div class="target col-md-3" ondrop="drop(event)" ondragover="allowDrop(event)" ><img id="<%= image+"1" %>" width="100" height="100" src="/images/topic/<%=image%>" draggable="true" ondragstart="drag(event)"></div>
      <% end %>
  </div>
</div>